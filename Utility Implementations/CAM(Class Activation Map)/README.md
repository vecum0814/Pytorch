## CAM (Class Activation Map)

CAM은 이미지 분류 문제에서 이미지 내에서 어느 영역을 보고 클래스 분류를 결정했는지를 설명하는 시각화 방법입니다.

CAM은 학성곱 신경망의 마지막 층에서 나온 피쳐맵과 분류기의 가중치를 이용해 영역을 찾아 내는 방식입니다.

먼저 CAM을 구현하기 위해서는 특정 조건 하나를 만족시켜야 합니다. 기본 CNN같은 경우는 합성곱 신경망의 마지막 층에서 나온 피쳐맵을 분류기에 넣기 위해 일렬로 펴는 Flatten 과정이 필요한데, 이 때 객체 위치에 대한 정보가 소실됩니다.

따라서 CAM을 사용하기 위해서는 합성곱 신경망의 마지막 층에서의 각각의 피쳐맵의 평균값을 구하는 Global Average Pooling을 사용합니다. 

마지막 Feature Map이 6 x 6 크기로 128개 있다면, Flatten을 사용할 경우 노드가 4608(6 x 6 x 128)개가 되고 GAP을 사용할 경우 각 Feature Map의 평균이 노드값이 되므로 128개의 노드를 갖게 됩니다. 

다음으로 분류기에 해당하는 MLP을 거쳐 아웃풋을 산출하게 되는데, 모델 학습이 완료되면 학습된 모델이 어느 영역을 보고 각각의 이미지를 분류하게 되는지 시각화 할 수 있는데, 이때 시각화된 이미지를 CAM 이미지라고 합니다.


<img width="684" alt="스크린샷 2022-08-18 오전 7 56 11" src="https://user-images.githubusercontent.com/52812351/185257723-231475f7-35b2-4ba7-b4f2-d9b763c5decb.png">
